<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Quiz App</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body { font-family: Arial, sans-serif; background-color: #f4f4f4; }
        .container { max-width: 600px; margin: auto; padding: 20px; }
        .hidden { display: none; }
    </style>
</head>
<body class="bg-gray-100">

    <!-- Navigation Menu -->
    <nav class="bg-blue-500 text-white p-4">
        <div class="container mx-auto flex justify-between">
            <h1 class="text-xl font-bold">Quiz App</h1>
            <ul class="flex space-x-4">
                <li><a href="#" class="hover:underline" onclick="showPage('home')">Home</a></li>
                <li><a href="#" class="hover:underline" onclick="showPage('quiz')">Quiz</a></li>
                <li><a href="#" class="hover:underline" onclick="showPage('about')">About</a></li>
            </ul>
        </div>
    </nav>

    <!-- Home Page -->
    <div id="home" class="container">
        <h2 class="text-2xl font-bold mt-4">Welcome to the Quiz App!</h2>
        <p class="mt-2">Test your knowledge with our fun quizzes.</p>
    </div>

    <!-- Quiz Page -->
    <div id="quiz" class="container hidden">
        <h2 class="text-2xl font-bold mt-4">Quiz Time!</h2>
        <div id="question-container" class="mt-4">
            <h3 id="question" class="text-lg font-semibold"></h3>
            <div id="options" class="mt-2"></div>
            <button class="mt-4 px-4 py-2 bg-blue-500 text-white rounded" onclick="showHint()">Hint</button>
            <button class="mt-4 px-4 py-2 bg-green-500 text-white rounded" onclick="showAnswer()">Show Answer</button>
            <p id="hint" class="hidden mt-2 text-gray-600"></p>
            <p id="answer" class="hidden mt-2 font-bold"></p>
            <button class="mt-4 px-4 py-2 bg-gray-500 text-white rounded" onclick="nextQuestion()">Next Question</button>
        </div>
    </div>

    <!-- About Page -->
    <div id="about" class="container hidden">
        <h2 class="text-2xl font-bold mt-4">About This App</h2>
        <p class="mt-2">This quiz app pulls questions from Google Sheets and is built with HTML, JavaScript, and Tailwind CSS.</p>
    </div>

    <script>
        let quizData = [];
        let currentQuestionIndex = 0;

        // Load quiz questions from Google Sheets (replace with your Sheet's CSV URL)
        const sheetURL = "Questions.csv - Sheet1.csv";

        async function loadQuestions() {
            const response = await fetch(sheetURL);
            const text = await response.text();
            const rows = text.split("\n").slice(1); // Remove header

            quizData = rows.map(row => {
                const columns = row.split(",");
                return {
                    question: columns[0],
                    options: [columns[1], columns[2], columns[3], columns[4]],
                    answer: columns[5],
                    hint: columns[6]
                };
            });

            loadQuestion();
        }

        function loadQuestion() {
            const q = quizData[currentQuestionIndex];
            document.getElementById("question").innerText = q.question;
            document.getElementById("options").innerHTML = q.options.map(option =>
                `<button class="block w-full px-4 py-2 bg-blue-500 text-white rounded mt-2" onclick="checkAnswer('${option}')">${option}</button>`
            ).join('');
            document.getElementById("hint").classList.add("hidden");
            document.getElementById("answer").classList.add("hidden");
        }

        function checkAnswer(selected) {
            if (selected === quizData[currentQuestionIndex].answer.trim()) {
                alert("✅ Correct!");
            } else {
                alert("❌ Wrong! Try again.");
            }
        }

        function showHint() {
            document.getElementById("hint").innerText = quizData[currentQuestionIndex].hint;
            document.getElementById("hint").classList.remove("hidden");
        }

        function showAnswer() {
            document.getElementById("answer").innerText = "Answer: " + quizData[currentQuestionIndex].answer;
            document.getElementById("answer").classList.remove("hidden");
        }

        function nextQuestion() {
            currentQuestionIndex = (currentQuestionIndex + 1) % quizData.length;
            loadQuestion();
        }

        function showPage(page) {
            document.getElementById("home").classList.add("hidden");
            document.getElementById("quiz").classList.add("hidden");
            document.getElementById("about").classList.add("hidden");
            document.getElementById(page).classList.remove("hidden");

            if (page === "quiz") {
                loadQuestions();
            }
        }

        loadQuestions();
    </script>

</body>
</html>
